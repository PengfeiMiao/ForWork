<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>文章管理</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="./layui/css/layui.css">
    <script src="./js/jquery.min.js"></script>
    <script src="./layui/layui.js"></script>
    <style>
        .layui-table-cell {
            height: auto;
            /*line-height: 28px;*/
        }
    </style>
</head>
<body style="min-height: 600px">
<div style="padding: 20px; background-color: #F2F2F2;">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md12">
            <div class="layui-card">
                <!--                <div class="layui-card-header">标题</div>-->
                <div class="layui-card-body">
                    <table class="layui-hide" id="test"></table>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/html" id="titleTpl">
    <div class="layui-col-md12">
        <div class="layui-card">
            <div class="layui-card-body">
                <div>{{d.title}}</div>
                <div>{{d.intro}}</div>
                <div>
                    <p style="display:inline">{{d.time}}&emsp;&emsp;{{d.visit}}&emsp;|&emsp;{{d.star}}&emsp;|&emsp;{{d.comments}}</p>
                    <a style="display:inline; margin-left: 50%" href="detail.html?id={{d.id}}">浏览</a>
                    <a style="display:inline; margin-left: 50px" href="editor.html?id={{d.id}}">编辑</a>
                </div>
            </div>
        </div>
    </div>
</script>

<script>
    layui.use('table', function () {
        var table = layui.table;

        table.render({
            elem: '#test'
            , data: [
                {
                    "id": 1,
                    "title": "自定义标题1",
                    "intro": "摘要。。。此处省略一万字。。。此处省略一万字。。。此处省略一万字。。。",
                    "time": "2020-01-01 00:00:00",
                    "visit": 10,
                    "star": 2,
                    "comments": 1
                },
                {
                    "id": 2,
                    "title": "自定义标题2",
                    "intro": "摘要。。。",
                    "time": "2020-02-01 12:00:00",
                    "visit": 99,
                    "star": 5,
                    "comments": 2
                }
            ]
            , cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
            , cols: [[
                {field: 'id', title: 'ID', width: '5%'},
                {field: 'title', title: '文章列表', width: '95%', templet: '#titleTpl'} //这里的templet值是模板元素的选择器
            ]]
        });
    });
</script>
</body>
</html>