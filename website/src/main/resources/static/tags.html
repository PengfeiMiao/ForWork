<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="./layui/css/layui.css" media="all">
    <script src="./layui/layui.js"></script>
    <script src="./js/jquery.min.js"></script>
    <script src="./js/jquery.params.js"></script>
    <style>
        .custom-scale {
            zoom: 0.8;
            -moz-transform: scale(0.8);
            -moz-transform-origin: 0 0;
        }

        .first-tab i.layui-tab-close {
            display: none !important;
        }
    </style>
</head>
<body>
<form class="layui-form" action="" style="margin: 25px">
    <div class="layui-form-item">
        <div class="layui-form-text custom-scale" style="height: auto">
            <input id="keyword" type="text" class="layui-input" placeholder="输入关键字Enter搜索"/>
            <input type="text" style="display:none;">
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-tab custom-scale" lay-filter="demo" lay-allowclose="true">
            <ul class="layui-tab-title">
                <li class="first-tab layui-this" lay-id="11">常用标签<i class="layui-tab-close"></i></li>
                <li lay-id="22">用户管理<i class="layui-icon layui-unselect layui-tab-close">ဆ</i></li>
                <li lay-id="33">权限分配<i class="layui-icon layui-unselect layui-tab-close">ဆ</i></li>
                <li lay-id="44">商品管理<i class="layui-icon layui-unselect layui-tab-close">ဆ</i></li>
            </ul>
            <div class="layui-tab-content">
                <div class="layui-tab-item layui-show">内容1</div>
                <div class="layui-tab-item">内容2</div>
                <div class="layui-tab-item">内容3</div>
                <div class="layui-tab-item">内容4</div>
            </div>
        </div>
    </div>
</form>

<script>
    layui.use('element', function () {
        var element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块

        //触发事件
        // var active = {
        //     tabAdd: function () {
        //         //新增一个Tab项
        //         element.tabAdd('demo', {
        //             title: '新选项' + (Math.random() * 1000 | 0) //用于演示
        //             , content: '内容' + (Math.random() * 1000 | 0)
        //             , id: new Date().getTime() //实际使用一般是规定好的id，这里以时间戳模拟下
        //         })
        //     }
        //     , tabDelete: function (othis) {
        //         //删除指定Tab项
        //         element.tabDelete('demo', '44'); //删除：“商品管理”
        //         othis.addClass('layui-btn-disabled');
        //     }
        //     , tabChange: function () {
        //         //切换到指定Tab项
        //         element.tabChange('demo', '22'); //切换到：用户管理
        //     }
        // };

        $('.layui-tab-close').on('click', function () {
            var that = $(this).parent();
            element.tabDelete('demo', that.attr('lay-id'));
        });

        $('#keyword').on('keypress', function (event) {
            if (event.keyCode === 13) {
                //alert('你输入的内容为: ' + $('#keyword').val());
                var keyword = $('#keyword').val();
                element.tabAdd('demo', {
                    title: keyword
                    , content: '内容' + (Math.random() * 1000 | 0)
                    , id: new Date().getTime() //实际使用一般是规定好的id，这里以时间戳模拟下
                })
            }
        });

    });
</script>
</body>
</html>